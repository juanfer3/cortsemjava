<?php

include_once("Conexion.php");//utilizar include_once para que el script de la pagina se cargue una vez
define("MYSQL_CONN_ERROR", "Unable to connect to database."); 
mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);
class Empleados {

    public $nombre;
    public $cedula;
    public $usuario_id;
    public $habilitado;
    public $con;

//    public function __construct() {
//        $this->con = new Conexion();
//    }

    public function insertarEmpleado($nombre, $cedula, $usuario_id) {
        $habilitado='si';
        try {
            $this->conn= new Conexion();
            $sql = "INSERT INTO empleados(nombre,cedula,usuario_id,habilitado) values('$nombre','$cedula','$usuario_id','$habilitado')";
            $this->conn->query($sql) ? $r = "insertado : )" : $r = "No se Inserto  :(";
            $con=null;
            echo $r;
        } catch (Exception $e) {
            echo 'ERROR:' . $e->getMessage();
        }
    }

    public function ultimoIdEmpleados() {

        try {


            $id = mysqli_insert_id($this->conn);
            return $id;
        } catch (Exception $e) {
            echo 'ERROR:' . $e->getMessage();
        }
    }

}

?>